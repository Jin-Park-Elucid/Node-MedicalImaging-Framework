{
  "name": "Medical Segmentation Training",
  "nodes": [
    {
      "type": "MedicalSegmentationLoader",
      "name": "data_loader",
      "position": [
        50,
        100
      ],
      "config": {
        "data_dir": "examples/medical_segmentation_pipeline/data",
        "batch_size": "4",
        "num_workers": "0",
        "shuffle_train": "True"
      },
      "is_composite": false,
      "collapsed": false
    },
    {
      "type": "UNet2D",
      "name": "unet_model",
      "position": [
        50,
        300
      ],
      "config": {
        "in_channels": 1,
        "out_channels": 2,
        "base_channels": 32,
        "depth": 3
      },
      "is_composite": false,
      "collapsed": false
    },
    {
      "type": "LossFunction",
      "name": "loss_function",
      "position": [
        50,
        500
      ],
      "config": {
        "loss_type": "dice"
      },
      "is_composite": false,
      "collapsed": false
    },
    {
      "type": "Optimizer",
      "name": "optimizer",
      "position": [
        50,
        700
      ],
      "config": {
        "optimizer_type": "adam",
        "lr": 0.001,
        "weight_decay": 1e-05
      },
      "is_composite": false,
      "collapsed": false
    },
    {
      "type": "Trainer",
      "name": "trainer",
      "position": [
        450,
        400
      ],
      "config": {
        "num_epochs": 20,
        "learning_rate": 0.001,
        "device": "cuda",
        "checkpoint_dir": "examples/medical_segmentation_pipeline/checkpoints",
        "save_every_n_epochs": 5
      },
      "is_composite": false,
      "collapsed": false
    }
  ],
  "links": [
    {
      "source_node": "data_loader",
      "source_port": "train_loader",
      "target_node": "trainer",
      "target_port": "dataloader"
    },
    {
      "source_node": "unet_model",
      "source_port": "model",
      "target_node": "trainer",
      "target_port": "model"
    },
    {
      "source_node": "loss_function",
      "source_port": "loss_fn",
      "target_node": "trainer",
      "target_port": "loss_fn"
    },
    {
      "source_node": "unet_model",
      "source_port": "model",
      "target_node": "optimizer",
      "target_port": "model"
    },
    {
      "source_node": "optimizer",
      "source_port": "optimizer",
      "target_node": "trainer",
      "target_port": "optimizer"
    }
  ]
}